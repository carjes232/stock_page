# Backend
BACKEND_PORT=8080

# Frontend
FRONTEND_PORT=5173
FRONTEND_PUBLIC_BASE=/ # leave as / for dev

# External API
API_BASE=
# IMPORTANT: Put only the raw token here (no "Bearer ")
API_TOKEN=REPLACE_ME
FMP_API_KEY=
PRICE_TOPK=20
# Cache quotes for a full day to fit free API limits
QUOTES_TTL=24h
# Warm top tickers daily to prefetch quotes/fundamentals
PRICE_WARM_INTERVAL=24h
# Cache fundamentals ~monthly (TTM/growth refresh window)
FUNDAMENTALS_TTL=720h # 30 days
# Disable the built-in FMP Graham valuation provider. When true, the backend
# will read EPS/growth from the fundamentals table populated by tools.
DISABLE_GRAHAM_PROVIDER=false
FUNDAMENTALS_API_BASE=http://fundamentals-api:9000

# Database (CockroachDB)
DB_USER=root
DB_HOST=db
DB_PORT=26259
DB_NAME=stocks
DB_SSLMODE=disable
DB_URL=postgresql://root@db:26259/stocks?sslmode=disable

# Ingestion job config
INGEST_INTERVAL=15m
# Optional: start ingestion on boot
INGEST_ON_START=true

# Free fundamentals tool config
# Alpha Vantage key for quarterly EPS surprises (used by backend/tools/eps_metric_free.py)
ALPHAVANTAGE_KEY=
# Comma-separated tickers to upsert on startup (Compose Fundamentals service)
FUNDAMENTALS_SYMBOLS=NVDA,AAPL,MSFT
# Set to "true" to store the blended final metric as growth (instead of forward YoY avg)
FUNDAMENTALS_USE_FINAL_METRIC=false
PRICE_UPDATE_INTERVAL=24h
FUNDAMENTALS_UPDATE_INTERVAL=720h
TOP_RECENT_COUNT=50
